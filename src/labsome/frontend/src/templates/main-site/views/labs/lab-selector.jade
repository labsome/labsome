mixin current_lab
  i.fa.fa-fw.fa-building-o
  lab-name(id='curLab.lab_id')

mixin content
  li(ng-if='allLabs.ready && (allLabs.all.length > 0) && (curLab.all_except_current.length == 0)')
    a
      +current_lab
  li.dropdown(ng-if='allLabs.ready && (allLabs.all.length > 0) && (curLab.all_except_current.length > 0)')
    a.link.dropdown-toggle(data-toggle='dropdown' role='button' aria-haspopup='true' aria-expanded='false')
      +current_lab
      i.fa.fa-fw.fa-angle-down
    ul.dropdown-menu
      li.heading
        | Other Labs
      li(ng-repeat='other_lab_id in curLab.all_except_current')
        a.link(ng-click='curLab.set(other_lab_id)')
          lab-name(id='other_lab_id')

ul.nav.navbar-nav
  +content
