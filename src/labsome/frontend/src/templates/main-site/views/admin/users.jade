mixin user_field(name)
  .row
    label.control-label.col-sm-2= name
    .col-sm-10(class=dataclass)
      p.form-control-static
        block

mixin user_row
  a.link.list-group-item(ng-repeat='user in users.all | orderBy:"display_name"'
                         ui-sref='.({id: "{{ user.id }}"})')
    table.details
      tr.lh2
        td.pad-right
          i.fa.fa-angle-right(ng-if='selected_user_id != user.id')
          i.fa.fa-angle-down(ng-if='selected_user_id == user.id')
        td.pad-right
          user-avatar(id='user.id' size='1.5rem')
        td.main
          user-display-name(id='user.id')
      tr(ng-if='selected_user_id == user.id')
        td
        td
        td
          div(style={padding: '.5rem'})
            div(style={padding: '.25rem .5rem', 'border-color': '#aaa', 'border-style': 'dashed', 'border-width': '0 0 0 1px'})
              form.form-horizontal
                +user_field('First Name')
                  | {{ user.first_name }}
                +user_field('Last Name')
                  | {{ user.last_name }}
                +user_field('Email')
                  | {{ user.email }}
                +user_field('Roles')
                  | {{ user.roles | join:", " | titlecase }}

mixin content
  .panel.panel-default
    ul.list-group
      +user_row

+content
